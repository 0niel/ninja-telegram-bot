import logging
from telegram import ParseMode, Update
from telegram.ext import CallbackContext
from telegram.utils.helpers import escape_markdown

from bot.services.auto_delete import auto_delete


RULES_TEXT = (
    '–ß–∞—Ç —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º —Å—Ä–µ–¥—Å—Ç–≤–æ–º –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏, –Ω–æ –ø—Ä–∏ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–Ω '
    '–º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.'
    '\n\n'
    '–¢.–∫. –≥—Ä—É–ø–ø–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Mirea Ninja, –≤ '
    '–Ω–µ–π –¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–µ –∂–µ –ø—Ä–∞–≤–∏–ª–∞, —á—Ç–æ –∏ –Ω–∞ —Ñ–æ—Ä—É–º–µ, –Ω–æ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–ø—Ä–∞–≤–∫–∞–º–∏ –Ω–∞ —ç—Ñ–µ–º–µ—Ä–Ω–æ—Å—Ç—å:'
    '\n\n'
    '1. üòà –ú–æ–∂–Ω–æ –º–∞—Ç–µ—Ä–∏—Ç—å—Å—è. –û–±–∑—ã–≤–∞—Ç—å—Å—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ - –Ω–µ–ª—å–∑—è.\n'
    '2. üë∫ –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å != –≤—Å–µ–¥–æ–∑–≤–æ–ª–µ–Ω–Ω–æ—Å—Ç—å. –ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–µ –ø–æ–¥—Ä—ã–≤–∞—Ç—å —É—á–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏ –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å –∑–∞–∫–æ–Ω—ã –†–§, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç —á–∞—Ç.\n'
    '3. üëã –° –Ω–æ–≤—ã–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —É –Ω–∞—Å –ø—Ä–∏–Ω—è—Ç–æ –æ–±—â–∞—Ç—å—Å—è –Ω–∞ ¬´—Ç—ã¬ª –∏ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –Ω–∏–º –∫–∞–∫ –∫ –¥—Ä—É–∑—å—è–º. –ë—É–¥—å—Ç–µ –≤–µ–∂–ª–∏–≤—ã.\n'
    '4. ü§ù –ü—Ä–æ—Å—è —á—Ç–æ-—Ç–æ, –¥–∞–≤–∞–π—Ç–µ —á—Ç–æ-—Ç–æ –≤–∑–∞–º–µ–Ω. –ï—Å–ª–∏ –≤–∞–º –ø–æ–º–æ–≥–ª–∏, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å +—Ä–µ–ø.\n'
    '5. üö™ –≠—Ç–æ —á–∞—Å—Ç–Ω–∞—è –≤–µ—á–µ—Ä–∏–Ω–∫–∞. –ï—Å–ª–∏ –≤—ã –æ—á–µ–Ω—å –¥—É—à–Ω—ã–π ‚Äî –≤–∞—Å –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç –∑–∞ –¥–≤–µ—Ä—å. –¢—É—Ç –Ω–µ—Ç –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏.'
)


def rules_callback(update: Update, context: CallbackContext) -> None:
    message = update.effective_message.reply_text(
        escape_markdown(RULES_TEXT, version=2).replace('—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º', '_—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º_'), parse_mode=ParseMode.MARKDOWN_V2)
    auto_delete(message, context, from_message=update.effective_message)
